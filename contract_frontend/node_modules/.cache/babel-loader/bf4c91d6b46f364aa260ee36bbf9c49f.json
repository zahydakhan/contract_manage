{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"C:/Users/zahyd/OneDrive/Desktop/contract2/Contract/contract_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\zahyd\\\\OneDrive\\\\Desktop\\\\contract2\\\\Contract\\\\contract_frontend\\\\src\\\\pages\\\\contract_list\\\\contract_list.main.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContractListTable from './contract_table';\nimport axios from '../../utils1.js/axios';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Grid from '@material-ui/core/Grid';\nimport { Typography } from '@material-ui/core';\nimport FindInPageIcon from '@material-ui/icons/FindInPage';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      '& .MuiTextField-root': {\n        margin: theme.spacing(1),\n        width: '25ch'\n      }\n    },\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 150\n    },\n    search: {\n      minWidth: 300\n    }\n  };\n});\nexport default function FormPropsTextFields() {\n  _s();\n\n  var classes = useStyles();\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      search = _React$useState2[0],\n      setSearch = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      searchId = _React$useState4[0],\n      setSearchId = _React$useState4[1];\n\n  var _React$useState5 = React.useState([]),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      rows = _React$useState6[0],\n      setRows = _React$useState6[1];\n\n  var _React$useState7 = React.useState(0),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      page = _React$useState8[0],\n      setPage = _React$useState8[1];\n\n  var _React$useState9 = React.useState(10),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      rowsPerPage = _React$useState10[0],\n      setRowsPerPage = _React$useState10[1];\n\n  var _React$useState11 = React.useState(0),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      count = _React$useState12[0],\n      setCount = _React$useState12[1];\n\n  var _React$useState13 = React.useState(''),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      filter = _React$useState14[0],\n      setFilter = _React$useState14[1];\n\n  var handleSelectChange = function handleSelectChange(event) {\n    event.preventDefault();\n    setFilter(event.target.value);\n    console.log(event.target.value, filter);\n    axios.get(\"/basic/contractlist/?contract_status=\".concat(event.target.value)).then(function (res) {\n      console.log(res);\n\n      if (res.data) {\n        setRows(res.data.results);\n        setCount(res.data.count);\n      }\n    });\n  };\n\n  useEffect(function () {\n    axios.get(\"/basic/contractlist/?p=\".concat(page + 1, \"&records=\").concat(rowsPerPage)).then(function (res) {\n      console.log(res.data);\n      console.log(res.data.results); //console.log(res.data.count);\n\n      setCount(res.data.count);\n      setRows(res.data.results); //setPage(res.data.next);\n      //setPagenew(res.data);\n    });\n  }, [page, rowsPerPage]);\n\n  var handleChange = function handleChange(event) {\n    console.log(event.target.value);\n    setSearch(event.target.value);\n    axios.get(\"/basic/contractlist/?search=\".concat(search)).then(function (res) {\n      console.log(res.data);\n\n      if (res.data) {\n        setRows(res.data.results);\n        setCount(res.data.count);\n      }\n    });\n  };\n\n  var handleSearchID = function handleSearchID(event) {\n    setSearchId(event.target.value);\n    console.log(event.target.value);\n    axios.get(\"/basic/contractlist/?id=\".concat(event.target.value)).then(function (res) {\n      console.log(res.data);\n\n      if (res.data) {\n        setRows(res.data.results);\n        setCount(res.data.count);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: classes.root,\n    noValidate: true,\n    autoComplete: \"off\",\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(FindInPageIcon, {\n            fontSize: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h2\",\n            children: \"Search Contract\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        justify: \"space-between\",\n        alignItems: \"flex-end\",\n        style: {\n          marginBottom: '2em'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            direction: \"column\",\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                id: \"standard-search\",\n                label: \"Search by Contract ID\",\n                type: \"search\",\n                className: classes.searchbyid,\n                onChange: handleSearchID\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                id: \"standard-search\",\n                label: \"Search by Contract Title or Description\",\n                type: \"search\",\n                className: classes.search,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            className: classes.formControl,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"demo-simple-select-label\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"demo-simple-select-label\",\n              id: \"demo-simple-select\",\n              value: filter,\n              onChange: handleSelectChange,\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 'pending',\n                children: \"Pending\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 'terminated',\n                children: \"Terminated\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 'suspended',\n                children: \"Suspended\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: 'active',\n                children: \"Active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ContractListTable, {\n        rows: rows,\n        count: count,\n        rowsPerPage: rowsPerPage,\n        setRowsPerPage: setRowsPerPage,\n        page: page,\n        setPage: setPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FormPropsTextFields, \"Z4+5rp6Tu0k2dLaf6/tB5sFYKHg=\", false, function () {\n  return [useStyles];\n});\n\n_c = FormPropsTextFields;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormPropsTextFields\");","map":{"version":3,"sources":["C:/Users/zahyd/OneDrive/Desktop/contract2/Contract/contract_frontend/src/pages/contract_list/contract_list.main.js"],"names":["React","useEffect","TextField","makeStyles","ContractListTable","axios","InputLabel","MenuItem","FormControl","Select","Grid","Typography","FindInPageIcon","useStyles","theme","root","margin","spacing","width","formControl","minWidth","search","FormPropsTextFields","classes","useState","setSearch","searchId","setSearchId","rows","setRows","page","setPage","rowsPerPage","setRowsPerPage","count","setCount","filter","setFilter","handleSelectChange","event","preventDefault","target","value","console","log","get","then","res","data","results","handleChange","handleSearchID","marginBottom","searchbyid"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ContractListTable from './contract_table';\r\nimport axios from '../../utils1.js/axios';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Typography } from '@material-ui/core';\r\nimport FindInPageIcon from '@material-ui/icons/FindInPage';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 150,\r\n  },\r\n  search:{\r\n    minWidth: 300,\r\n  }\r\n}));\r\n\r\nexport default function FormPropsTextFields() {\r\n  const classes = useStyles();\r\n  const [search, setSearch] = React.useState('');\r\n  const [searchId, setSearchId] = React.useState('');\r\n  const [rows, setRows] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [count, setCount] = React.useState(0);\r\n  const [filter, setFilter] = React.useState('');\r\n\r\n  const handleSelectChange = (event) => {\r\n    event.preventDefault();\r\n    setFilter(event.target.value);\r\n    console.log(event.target.value, filter);\r\n    axios.get(`/basic/contractlist/?contract_status=${event.target.value}`).then((res) => {\r\n      console.log(res);\r\n      if(res.data){\r\n        setRows(res.data.results);\r\n        setCount(res.data.count);\r\n      }\r\n    });\r\n    \r\n  };\r\n\r\n  useEffect(() => {\r\n\t\taxios.get(`/basic/contractlist/?p=${page+1}&records=${rowsPerPage}`).then((res) => {\r\n\r\n\t\t\tconsole.log(res.data);\r\n            console.log(res.data.results);\r\n            //console.log(res.data.count);\r\n            setCount(res.data.count);\r\n            setRows(res.data.results)\r\n            //setPage(res.data.next);\r\n            //setPagenew(res.data);\r\n\t\t});\r\n  }, [page, rowsPerPage]);\r\n\r\n  const handleChange = (event) => {\r\n    console.log(event.target.value);\r\n    setSearch(event.target.value);\r\n\r\n    axios.get(`/basic/contractlist/?search=${search}`).then((res) => {\r\n\r\n      console.log(res.data);\r\n      if(res.data){\r\n        setRows(res.data.results);\r\n        setCount(res.data.count);\r\n      }\r\n\t\t});\r\n  };\r\n  \r\n  const handleSearchID = (event) => {\r\n    setSearchId(event.target.value);\r\n    console.log(event.target.value);\r\n\r\n    axios.get(`/basic/contractlist/?id=${event.target.value}`).then((res) => {\r\n\r\n      console.log(res.data);\r\n      if(res.data){\r\n        setRows(res.data.results);\r\n        setCount(res.data.count);\r\n      }\r\n\t\t});\r\n  };\r\n\r\n  return (\r\n    <form className={classes.root} noValidate autoComplete=\"off\">\r\n      <Grid container >\r\n        <Grid container>\r\n          <Grid item>\r\n            <FindInPageIcon fontSize='large' />\r\n          </Grid>\r\n          <Grid item>\r\n          <Typography variant='h2' >Search Contract</Typography>\r\n          </Grid>\r\n        </Grid>\r\n        \r\n      <Grid container justify='space-between' alignItems='flex-end' style={{marginBottom: '2em'}}>\r\n      <Grid item>\r\n        <Grid container direction='column'>\r\n          <Grid item>\r\n          <TextField id=\"standard-search\" label=\"Search by Contract ID\" type=\"search\" className={classes.searchbyid} onChange={handleSearchID} />\r\n          </Grid>\r\n          <Grid item>\r\n        <TextField id=\"standard-search\" label=\"Search by Contract Title or Description\" type=\"search\" className={classes.search} onChange={handleChange} />\r\n        </Grid>\r\n        </Grid>\r\n        </Grid>\r\n\r\n        \r\n\r\n        <Grid item>\r\n        <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-label\">Status</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={filter}\r\n          onChange={handleSelectChange}\r\n        >\r\n          <MenuItem value={'pending'}>Pending</MenuItem>\r\n          <MenuItem value={'terminated'}>Terminated</MenuItem>\r\n          <MenuItem value={'suspended'}>Suspended</MenuItem>\r\n          <MenuItem value={'active'}>Active</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n        </Grid>\r\n        \r\n      </Grid>\r\n\r\n      \r\n        <ContractListTable rows={rows} count={count} rowsPerPage={rowsPerPage} setRowsPerPage={setRowsPerPage} page={page} setPage={setPage}/>\r\n      </Grid>\r\n    </form>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}